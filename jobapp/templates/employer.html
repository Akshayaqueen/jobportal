{% extends "index.html" %}
{% block body %}
<style>
    .required-asterisk {
    color: red;
  }
    .error-message {
        color: red;
        display: none;
        font-size: 0.875rem;
    }
    input:invalid {
      border-color: initial; 
    } 
</style>

<div class="container" style="background-color:#093f75;">
  <div class="row mt-5 w-75 mx-auto pb-5">
    <h1 class="p-5 text-light" style="text-align: center; font-weight:600;"> Register as Employer </h1>
    {% if msg %}
      <p style="text-align: center; color: blue;">{{msg}}</p>
    {% endif %}
    <div class="main mx-auto" style="background-color: rgb(223, 221, 221); border-radius: 40px;">
      <form class="form-group p-5" method="post">
        {% csrf_token %}
        <div class="mb-3"> 
          <label for="empprofilepic" class="form-label">Upload Profile Pic</label><br>
          <input type="file" name="empprofilepic" class="form-control">
        </div>
        <div class="mb-3">
          <label for="FirmName" class="form-label">Firm Name<span class="required-asterisk">*</span></label>
          <input type="text" class="form-control" name="firmname" placeholder="Name of the firm" pattern="[a-zA-Z\s]+" required>
          <span class="error-message">Please enter a valid firm name.</span>
        </div>
        <div class="mb-3">
          <label for="Firmwork" class="form-label">Firm Work<span class="required-asterisk">*</span></label>
          <input type="text" class="form-control" name="firmwork" placeholder="Work of the firm" required>
          <span class="error-message">Firm work is required.</span>
        </div>
        <div class="mb-3">
          <label for="address" class="form-label">Firm Address<span class="required-asterisk">*</span></label>
          <textarea class="form-control" name="firmaddress" rows="3" placeholder="Enter your firm's Address" required></textarea>
          <span class="error-message">Firm address is required.</span>
        </div>
        <div class="mb-3">
          <label for="CompanyName" class="form-label">Name of the company<span class="required-asterisk">*</span></label>
          <input type="text" class="form-control" name="cpname" placeholder="Enter your Company's Name" required>
          <span class="error-message">Company name is required.</span>
        </div>
        <div class="mb-3">
          <label for="contactno" class="form-label">Company's Contact No<span class="required-asterisk">*</span></label>
          <input type="text" class="form-control" name="cpcontactno" placeholder="Enter Contact no." pattern="\d{10}" required>
          <span class="error-message">Please enter a valid 10-digit contact number.</span>
        </div>
        <div class="mb-3">
          <label for="email" class="form-label">Email address<span class="required-asterisk">*</span></label>
          <input type="email" class="form-control" name="cpemailaddress" placeholder="Enter Email" required>
          <span class="error-message">A valid email address is required.</span>
        </div>
        <div class="mb-3">
          <label for="password" class="form-label">Password<span class="required-asterisk">*</span></label>
          <input type="password" class="form-control" name="password" placeholder="Enter Password" required>
          <span class="error-message">Password is required.</span>
        </div>
        <div class="mb-3">
          <label for="aadhar" class="form-label">Aadhar No.<span class="required-asterisk">*</span></label>
          <input type="text" class="form-control" name="aadharno" placeholder="Enter Aadhar No." pattern="\d{12}" required>
          <span class="error-message">Aadhar number must be 12 digits.</span>
        </div>
        <div class="mb-3">
          <label for="panno" class="form-label">PAN No.<span class="required-asterisk">*</span></label>
          <input type="text" class="form-control" name="panno" placeholder="Enter PAN No." pattern="[A-Z]{5}\d{4}[A-Z]" required>
          <span class="error-message">Please enter a valid PAN number.</span>
        </div>
        <div class="mb-3">
          <label for="gstno" class="form-label">GST No.<span class="required-asterisk">*</span></label>
          <input type="text" class="form-control" name="gstno" placeholder="Enter GST No." required>
          <span class="error-message">GST number is required.</span>
        </div>
        <div class="mb-3 form-check pt-3">
          <div class="form-check d-flex mb-5">
            <input class="form-check-input me-2" type="checkbox" required />
            <label class="form-check-label">
              I agree all statements in <a href="#">Terms of service<span class="required-asterisk">*</span></a>
            </label>
          </div>
        </div>
        <button type="submit" class="btn btn-primary w-100" style="background-color: #093f75; color:white;">Submit</button>
      </form>
    </div>
  </div>
</div>

<!-- Bootstrap Modal -->
<div class="modal fade" id="registerSuccessModal" tabindex="-1" aria-labelledby="registerSuccessModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered">
    <div class="modal-content text-center">
      <div class="modal-header">
        <h5 class="modal-title w-100" id="registerSuccessModalLabel">Registration Successful</h5>
      </div>
      <div class="modal-body">
        Your employer account has been registered successfully!
      </div>
      <div class="modal-footer justify-content-center">
        <a href="{% url 'jobapp:login' %}" class="btn btn-primary">Login Now</a>
      </div>
    </div>
  </div>
</div>

{% if show_modal %}
<script>
    window.addEventListener('DOMContentLoaded', (event) => {
        var myModal = new bootstrap.Modal(document.getElementById('registerSuccessModal'), {
            backdrop: 'static',
            keyboard: false
        });
        myModal.show();
    });
</script>
{% endif %}

{% endblock body %}
